
<link rel="import" href="../../Lib/polymer/polymer.html" />
<link rel="import" href="../../Lib/iron-ajax/iron-ajax.html" />

<dom-module id="p4m-ajax-block">

    <template>
        <link rel="stylesheet" href="{{cssUrl}}" />
        <div id="content">
        </div>
        <iron-ajax id="apiAjax"
                   method="GET"
                   handle-as="text"
                   content-type="text/html"
                   on-response="_handleResponse"
                   url="{{contentUrl}}"
                   auto
                   headers='{"Accept": "text/*"}'
                   debounce-duration="300">
        </iron-ajax>
    </template>

    <script>

        Polymer({
            is: "p4m-ajax-block",

            properties: {
                cssUrl: {
                    type: String,                   
                },
                contentUrl: {
                    type: String,
                },
                content: {
                    type: String
                }

            },
            listeners: {

            },
            ready: function()
            {

            },
            _handleResponse: function (data) {
                this.$.content.innerHTML = data.detail.response;
            }
        });
    </script>
</dom-module>